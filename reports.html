<!DOCTYPE html>
<html lang="en" >
<head>
    <title>Milk Production Reports</title>

<style>
   /* Style the body */
body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    background-color: #f0f0f0;
}

/* Style the cards */
.card, .card1, .card2 {
    width: 80%; /* default width for mobile devices */
    margin: 20px auto;
    border: 1px solid #ddd;
    border-radius: 5px;
    box-shadow: 2px 2px 5px rgba(0,0,0,0.3);
    padding: 20px;
    background-color: #fff;
}

/* Media query for tablets and larger devices */
@media (min-width: 768px) {
    .card, .card1, .card2 {
        width: 50%; /* width for tablets and larger devices */
    }
}

/* Media query for desktops and larger devices */
@media (min-width: 1024px) {
    .card, .card1, .card2 {
        width: 50%; /* width for desktops and larger devices */
    }
}

/* Style the header */
h1 {
    background-color: #333;
    color: #fff;
    padding: 10px 0;
    text-align: center;
    margin: 0;
}

/* Style the tables */
#reportTable, #cowTable {
    width: 100%;
    margin: 20px 0;
    border-collapse: collapse;
}

#reportTable th, #reportTable td, #cowTable th, #cowTable td {
    border: 1px solid #ddd;
    padding: 8px;
    text-align: center;
}

#reportTable tr:nth-child(even), #cowTable tr:nth-child(even) {
    background-color: #f2f2f2;
}

#reportTable tr:hover, #cowTable tr:hover {
    background-color: #ddd;
}

#reportTable th, #cowTable th {
    background-color: #333;
    color: white;
}

/* Style the chart container */
#myChart {
    max-width: 100%;
    margin: 20px auto;
}

</style>

</head>
<body>
    <h1>Milk Production Reports Records</h1>

    <div class="card">
        <!-- You can use a table to display the data -->
        <table id="reportTable">
            <tr>
                <th>Cow ID</th>
                <th>Morning</th> 
                <th>Noon</th>
                <th>Evening</th>
                <th>Total</th>
                <th>Difference</th>
            </tr>
            <!-- The data rows will be added here by your JavaScript code -->
        </table>
         </div>

		 <div class="card1">
        <!--Gave the chart its own container for responsiveness.-->
        <div>
            <canvas id="myChart"></canvas>
        </div>
    </div>

    <div class="card2">
        <!-- You can use a table to display the cow data -->
        <table id="cowTable">
            <tr>
                <th>Name</th>
                <th>Breed</th>
                <th>Father</th>
                <th>Mother</th>
                <th>Children</th>
                <th>DOB</th>
                <th>Age</th>
                <th>Last Birthdate</th>
            </tr>
            <!-- The cow data rows will be added here by your JavaScript code -->
        </table>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        // Retrieve the cow data from localStorage
        let cows;
        try {
            cows = JSON.parse(localStorage.getItem('cow')) || [];
        } catch (e) {
            console.error('Error reading from localStorage', e);
            return;
        }
    
        // Populate the table with cow data
        let cowTable = document.getElementById('cowTable');
        for (let cow of cows) {
            let row = cowTable.insertRow(-1);
    
            row.insertCell(0).innerHTML = cow.name;
            row.insertCell(1).innerHTML = cow.breed;
            row.insertCell(2).innerHTML = cow.father;
            row.insertCell(3).innerHTML = cow.mother;
            row.insertCell(4).innerHTML = cow.children;
            row.insertCell(5).innerHTML = cow.dob;
            row.insertCell(6).innerHTML = cow.age;
            row.insertCell(7).innerHTML = cow.birthDate;
        }
    </script>
    
    
    <script>
        // Retrieve the data from localStorage
        let records = JSON.parse(localStorage.getItem('milkRecords')) || [];

        // Populate the table
        let table = document.getElementById('reportTable',);
        for (let record of records) {
            let row = table.insertRow(-1);

            row.insertCell(0).innerHTML = record.cowID;
            row.insertCell(1).innerHTML = record.morning;
            row.insertCell(2).innerHTML = record.noon;
            row.insertCell(3).innerHTML = record.evening;
            row.insertCell(4).innerHTML = record.total;
            row.insertCell(5).innerHTML = record.difference;
        }

        // Populate the chart
        const ctx = document.getElementById('myChart');
        new Chart(ctx, {
            type: 'bar',
            data: {
                labels: records.map(record => record.cowID),
                datasets: [{
                    label: 'Total Production',
                    data: records.map(record => record.total),
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });
    </script>

    <!-- Add this at the end of your HTML file -->
	<button>
	<a href="milkrecords.html">Go to Form
	<div class="btn btn__primary"></div>
             </a>
			 </button>
			<a href="production.html">Dashboard 
                <a href="add_cow.html">add 
</body>
</html>








